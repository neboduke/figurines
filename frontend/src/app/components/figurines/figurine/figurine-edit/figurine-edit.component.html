<div class="container">
    <div class="col-lg-10 contact-form__wrapper p-5 order-lg-1">
        <form [formGroup]="figurineForm" class="contact-form form-validate" novalidate="novalidate">
            <input type="hidden" formControlName="figurineId">
            <div class="row">
                <div class="col-sm-9 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="title">Titel*</label>
                        <input type="text" class="form-control" formControlName="title" placeholder="Titel des Objektes">
                    </div>
                </div>
                <div class="col-sm-3 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="catalogNumber">KatalogNr*</label>
                        <input type="text" class="form-control" formControlName="catalogNumber" placeholder="KatalogNummer">
                    </div>
                </div>
                <div class="col-sm-4 mb-3">
                    <div class="form-group">
                        <label for="dimensionY">Höhe</label>
                        <input type="text" class="form-control"  formControlName="dimensionY" placeholder="dimension Y">
                    </div>
                </div>
                <div class="col-sm-4 mb-3">
                    <div class="form-group">
                        <label for="dimensionX">Länge</label>
                        <input type="text" class="form-control"  formControlName="dimensionX" placeholder="dimension X">
                    </div>
                </div>
                
                <div class="col-sm-4 mb-3">
                    <div class="form-group">
                        <label for="dimensionZ">Breite</label>
                        <input type="text" class="form-control"  formControlName="dimensionZ" placeholder="dimension Z">
                    </div>
                </div>

                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="materialDescription">Beschreibung des Materials</label>
                        <textarea class="form-control" id="materialDescription" formControlName="materialDescription" rows="4" placeholder="Beschreibung des Materials/der Beschaffenheit"></textarea>
                    </div>
                </div>
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label  for="materials">Material*</label>
                        <select  class="form-select" multiple formControlName="materials" >
                        
                            <option *ngFor="let mt of materials"  [ngValue]="mt">
                                {{ mt.title }}
                            </option>
                         </select>
                    </div>  
                </div>
                

                <div class="col-sm-12 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="descriptionIconography">Vorikonografische Beschreibung*</label>
                        <textarea class="form-control" id="descriptionIconography" formControlName="descriptionIconography" rows="4" placeholder=""></textarea>
                    </div>
                </div>


                <div class="col-sm-12 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="descriptionIconology">Ikonografische/Szenische Beschreibung*</label>
                        <textarea class="form-control" id="descriptionIconology" formControlName="descriptionIconology" rows="4" placeholder=""></textarea>
                    </div>
                </div>

                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label for="dateAbs">Datierung absolut</label>
                        <input type="text" class="form-control"  formControlName="dateAbs" placeholder="2 Jh.v.Ch. | 543 v.Ch.">
                    </div>
                </div>
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label  for="chronology">Datierung relativ*</label>
                        
                        <select  class="form-select"  formControlName="chronology" >
                            <option [ngValue]="null" ></option>
                            <option *ngFor="let ch of chronologies"  [ngValue]="ch">
                                {{ ch.name }}
                            </option>
                            
                        </select>
                    </div>  
                </div>

                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label  for="carrier">Bildträger*</label>
                        
                        <select  class="form-select"  formControlName="carrier" >
                            <option [ngValue]="null" ></option>
                            <option *ngFor="let cr of carriers"  [ngValue]="cr">
                                {{ cr.title }}
                            </option>
                            
                        </select>
                    </div>  
                </div>
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label  for="motif">Motiv*</label>
                        <select  class="form-select" multiple formControlName="motif" >
                            <option [ngValue]="null" ></option>
                            <option *ngFor="let mf of motifs"  [ngValue]="mf">
                                {{ mf.title }}
                            </option>
                            
                        </select>
                    </div>  
                </div>
                <div class="col-sm-12 mb-3">
                    <div class="form-group">
                        <label  for="motif">Fundkontext*</label>
                        <select  class="form-select"  formControlName="context" >
                            <option *ngFor="let cx of contextes"  [ngValue]="cx">
                                {{ cx.title }}
                            </option>
                            
                        </select>
                    </div>  
                </div>

                <div class="col-sm-12 mb-3">
                    <div class="form-group">
                        <label  for="location">Fundort*</label>                       
                        <select  class="form-select"   formControlName="location" (change)="openLocation()">
                            <option [ngValue]="null" ></option>
                            <option [ngValue]="-1" >neuen Fundort eintragen</option>
                            <option *ngFor="let l of locations"  [ngValue]="l">
                                {{ l.name }}, {{l?.place}}, {{l.country?.name}}
                            </option>
                            
                        </select>
                    </div>  
                </div>

                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label  for="exibitLocation" >Austellungsort*</label>                       
                        <select  class="form-select"  formControlName="exibitLocation" (change)="openMuseum()">
                            <option [ngValue]="null">kein Ausstellungsort vorhanden</option>
                            <option [ngValue]="-1" >neuen Ausstellungsort eintragen</option>
                            <option *ngFor="let m of museums"  [ngValue]="m">
                                {{ m.name }}
                            </option>
                            
                        </select>
                    </div>  
                </div>
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label for="exibitNr">AustellungsNr.</label>
                        <input type="text" class="form-control" id="exibitNr" formControlName="exibitNr">
                    </div>
                </div>

                <div class="col-sm-6 mb-3"><label  for="literature">Literatur*</label></div>
                <div class="col-sm-6 mb-3"><a class="btn btn-new " (click)="onAddLiterature()" >Neu</a></div>
                    
                <div class="col-sm-12 mb-3">
                    <div class="form-group">
                        
                        <select  class="form-select" multiple formControlName="literature" >
                            <option [ngValue]="null">keine Literatur vorhanden</option>
                            <option *ngFor="let l of literature"  [ngValue]="l">
                               {{l.author}}: {{ l.title }}
                            </option>
                        </select>
                    </div>  
                </div>
                
            
                <div class="col-sm-12 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="keyword">Schlagwörter</label>
                        <input type="text" class="form-control" id="keyword" formControlName="keyword" >
                    </div>
                </div>

                <div class="col-sm-12 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="imageUrl">Link zur Bildergalerie</label>
                        <input type="text" class="form-control" id="imageUrl" formControlName="imageUrl" >
                    </div>
                </div>

                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="image" *ngIf="!!figImages[0]">Bild: {{figImages[0].imageTitle}}</label>
                        <input type="file" class="form-control" id="image" formControlName="image" 
                            accept=".png, .jpg, .jpeg" 
                            (change)="onUploadImages($event,'image')" 
                            name="image"
                            />
                    </div>
                </div>
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="imageSource">Quelle:</label>
                        <input type="text" class="form-control" id="imageSource" formControlName="imageSource" >
                    </div>
                    
                </div> 
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="image" >Bild: </label>
                        <label class="required-field" for="image" *ngIf="!!figImages[1]">&nbsp;{{figImages[1].imageTitle}}</label>
                        <input type="file" class="form-control" id="image2" formControlName="image2" 
                            accept=".png, .jpg, .jpeg" 
                            (change)="onUploadImages($event,'image2')" 
                            />
                    </div>
                </div>
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="imageSource">Quelle:</label>
                        <input type="text" class="form-control" id="imageSource2" formControlName="imageSource2" >
                    </div>
                    
                </div>
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="image" >Bild: </label>
                        <label class="required-field" for="image" *ngIf="!!figImages[2]">&nbsp;{{figImages[2].imageTitle}}</label>
                        <input type="file" class="form-control" id="image3" formControlName="image3" 
                            accept=".png, .jpg, .jpeg" 
                            (change)="onUploadImages($event,'image3')" 
                            />
                    </div>
                </div>
                <div class="col-sm-6 mb-3">
                    <div class="form-group">
                        <label class="required-field" for="imageSource">Quelle:</label>
                        <input type="text" class="form-control" id="imageSource3" formControlName="imageSource3" >
                    </div>
                </div>
                <div class="row" *ngIf="figImages">
                    <div class="col-md " *ngIf="figImages.length > 0">
                        <img [src]="imageBaseUrl + figImages[0].imagePath + figImages[0].imageTitle " width="150px" height="200px" alt="" />
                    </div>
                    <div class="col-md " *ngIf="figImages.length > 1">
                        <img [src]="imageBaseUrl + figImages[1].imagePath + figImages[1].imageTitle" width="150px" height="200px" alt="" />
                    </div>
                    <div class="col-md" *ngIf="figImages.length > 2">
                        <img [src]="imageBaseUrl + figImages[2].imagePath + figImages[2].imageTitle" width="150px" height="200px" alt="" />
                    </div>
                    
                </div>

                <!--div class="row">
                    <app-file-upload requiredFileType="image/png,image/jpg,image/jpeg" (uploadedFile)='fileUploaded($event)'></app-file-upload>
                </div-->


                <div class="row">
                    <div class="hstack gap-3">
                        <div class="col-sm-6 mb-3 hstack gap-3">
                            <!-- HTML markup for Create button -->
                            <button
                                (click)="onAddFigurine()"
                                class="btn btn-primary w-20"
                                type="submit"
                                [disabled]="figurineForm?.invalid || !isAddNew"
                                *ngIf="this.isAddNew"
                            >
                                <span translate><i class="fas fa-plus"></i> Hinzufügen</span>
                            </button>
                            <!-- HTML markup for Update button -->
                            <button
                                (click)="onEditFigurine(figurineForm.value)"
                                class="btn btn-primary w-20"
                                type="submit"
                                [disabled]="figurineForm?.invalid || isAddNew"
                                *ngIf="!this.isAddNew"
                                style="margin-right:15px"
                            >
                                <span translate><i class="fas fa-edit"></i> Speichern</span>
                            </button>
                            <!-- HTML markup for Delete button -->
                            <button
                                (click)="onRemoveFigurine()"
                                class="btn btn-danger w-20"
                                type="submit"
                                [disabled]="figurineForm?.invalid || isAddNew"
                                *ngIf="!this.isAddNew"
                            >
                                <span translate><i class="fas fa-trash-alt"></i> Löschen</span>
                            </button>
                        </div>
                        <div class="col-sm-6 mb-3 ms-auto" style="text-align:right" >
                            <!-- HTML markup for Back button -->
                            <button  class="btn btn-secondary w-20" type="submit" [routerLink]="['/figurine',figurine!.figurineId]"  *ngIf="!this.isAddNew">
                               
                                <span translate><i class="fa fa-arrow-left"></i> Zurück</span>
                            </button>
                            <button  class="btn btn-secondary w-20" type="submit" [routerLink]="['/figurines']"  *ngIf="this.isAddNew">
                               
                                <span translate><i class="fa fa-arrow-left"></i> Abbrechen</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <app-toast aria-live="polite" aria-atomic="true"></app-toast>
    </div>
</div>

